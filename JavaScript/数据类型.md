# 数据类型

## 基本类型

基本的数据类型有：Number,Boolean,String,undefined,null 5 种基本类型。  
基本类型的访问是按值访问，就是说你可以操作保存在变量中的实际的值。
特点：

1. 基本数据类型的值是不可变的，任何方法都无法改变一个基本类型的值，比如一个字符串：

   ```JavaScript
    var name = 'jozo';
    name.toUpperCase(); // 输出 'JOZO'
    console.log(name); // 输出  'jozo'
   ```

   会发现原始的 name 并未发生改变，而是调用了 toUpperCase()方法后返回的是一个新的字符串。再来看个：

   ```JavaScript
    var person = 'jozo';
    person.age = 22;
    person.method = function(){//...};

    console.log(person.age); // undefined
    console.log(person.method); // undefined
   ```

   通过以上代码可知，我们不可以给基本类型添加属性和方法，再次说明基本类型是不可变的。

2. 基本类型的比较是值的比较  
   基本类型只有在值相等的时候才相等，==运算符会将两个不同类型的基本类型变量进行一些转换再比较，===运算符会同事比较值和类型。

3. 基本类型的变量是存放在栈区的（栈区指内存里的栈内存）  
   栈区包括了 变量的标识符和变量的值。

## 引用类型

除了基本类型之外的类型，都是引用类型，也可以说是对象，对象是属性和方法的集合，也就是说引用类型可以拥有属性和方法，其中属性又可以包含基本类型和引用类型。

引用类型包括：

- 普通对象（{}） 、 数组对象（[]）、正则对象（/^$/）、日期对象（new Date()）、数学函数对象（Math）等
- function （属于特殊的对象）

引用类型的有以下这些特性：

1. 引用类型的值是可变的  
   我们可为为引用类型添加属性和方法，也可以删除其属性和方法，如：

   ```JavaScript
    var person = {};//创建个控对象 --引用类型
    person.name = 'jozo';
    person.age = 22;
    person.sayName = function(){console.log(person.name);}
    person.sayName();// 'jozo'

    delete person.name; //删除person对象的name属性
    person.sayName(); // undefined
   ```

   上面代码说明引用类型可以拥有属性和方法，并且是可以动态改变的。

2. 引用类型的值是同时保存在栈内存和堆内存中的对象  
   JavaScript 与其他语言的不同之处在于，其不能直接访问内存地址，也就是说，不能直接操作对象的内存空间，所以实际上我们操作的是对象的引用，所以引用类型的值是按引用访问的。  
   准确的说，引用类型的存储需要内存的栈区和堆区（即栈内存和堆内存）共同完成，栈区保存变量标识符和指向堆内存中该对象的指针，也可以说是该对象再堆内存的地址。

3. 引用类型的比较是引用的比较  
   引用类型的比较，其实就是比较两个对象的堆内存中的地址是否相同，所以两个不同的对象即使一模一样也是不相等的。

## 简单赋值

从 a 变量向另一个 b 变量赋值基本类型时，会以 a 变量的值创建一个相等的新值，然后把该值放到为 b 变量分配的位置上：

```JavaScript
var a = 10;
var b = a;
a++;
console.log(a); // 11
console.log(b); // 10
```

此时，a 中保存的值为 10 ，当使用 a 来初始化 b 时，b 中保存的值也为 10，但 b 中的 10 与 a 中的是完全独立的，该值只是 a 中的值的一个副本，此后，这两个变量可以参加任何操作而相互不受影响。

也就是说基本类型在赋值操作后，两个变量是相互不受影响的。

## 对象引用

当从一个变量向另一个变量赋值引用类型的值时，同样也会将存储在变量中的对象的值复制一份放到为新变量分配的空间中。前面讲引用类型的时候提到，保存在变量中的是对象在堆内存中的地址，所以，与简单赋值不同，这个值的副本实际上是一个指针，而这个指针指向存储在堆内存的一个对象。那么赋值操作后，两个变量都保存了同一个对象地址，则这两个变量指向了同一个对象。因此，改变其中任何一个变量，都会相互影响。

## 参考文章

- [关于 js 基本类型与引用类型（堆内存、栈内存的理解）](https://www.cnblogs.com/chenhuichao/p/8691319.html)